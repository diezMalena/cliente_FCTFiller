"use strict";(self.webpackChunkcliente_fct_filler=self.webpackChunkcliente_fct_filler||[]).push([[509],{5509:(C,l,s)=>{s.r(l),s.d(l,{AuthModule:()=>L});var d=s(9808),u=s(3673),i=s(2382),o=s(5e3),g=s(520);let m=(()=>{class t{constructor(e){this.http=e,this.ruta="http://localhost:8000/api/"}login(e){let r=this.ruta+"login",a=new g.WM({"Content-Type":"application/json"});return this.http.post(r,e,{headers:a})}}return t.\u0275fac=function(e){return new(e||t)(o.LFG(g.eN))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var c=s(2290),f=s(7769);function p(t,n){1&t&&(o.TgZ(0,"div",20),o._uU(1,"El email no puede estar vac\xedo."),o.qZA())}function h(t,n){1&t&&(o.TgZ(0,"div",20),o._uU(1,"El email introducido no tiene un formato v\xe1lido."),o.qZA())}function v(t,n){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,p,2,0,"div",19),o.YNc(2,h,2,0,"div",19),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.formulario.email.errors.required),o.xp6(1),o.Q6J("ngIf",e.formulario.email.errors.email)}}function Z(t,n){1&t&&(o.TgZ(0,"div",20),o._uU(1,"La contrase\xf1a no puede estar vac\xeda."),o.qZA())}function b(t,n){if(1&t&&(o.TgZ(0,"div"),o.YNc(1,Z,2,0,"div",19),o.qZA()),2&t){const e=o.oxw();o.xp6(1),o.Q6J("ngIf",e.formulario.password.errors.required)}}const A=[{path:"login",component:(()=>{class t{constructor(e,r,a,x,y){this.formBuilder=e,this.router=r,this.LoginService=a,this.toastr=x,this.storageUser=y,this.submitted=!1,this.imgLogo="./assets/images/logo.png",this.login=this.formBuilder.group({email:["",[i.kI.required,i.kI.email]],password:["",[i.kI.required,i.kI.pattern]]})}ngOnInit(){}get formulario(){return this.login.controls}onSubmit(){this.submitted=!0,this.login.valid&&(this.LoginService.login({email:this.login.value.email,pass:this.login.value.password}).subscribe({next:r=>{this.usuario=r,this.storageUser.setUser(this.usuario),sessionStorage.setItem(t.usuario,JSON.stringify(r)),this.toastr.success("Login realizado con \xe9xito.","Login"),window.location.href=""},error:r=>{this.toastr.error("Datos de inicio de sesi\xf3n incorrectos.","Error")}}),this.onReset())}onReset(){this.submitted=!1,this.login.reset()}navegar(e,r){this.router.navigate([e],r)}}return t.usuario="usuario",t.\u0275fac=function(e){return new(e||t)(o.Y36(i.qu),o.Y36(u.F0),o.Y36(m),o.Y36(c._W),o.Y36(f.L))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-login"]],decls:29,vars:4,consts:[[1,"container-fluid"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-12","col-md-9","col-lg-7","col-xl-6"],[1,"card","bg-dark","text-white",2,"border-radius","1rem"],[1,"card-body","p-5","text-center"],[1,"mb-md-2","mt-md-1","pb-2",3,"formGroup","ngSubmit"],["height","70","alt","Logo de la p\xe1gina",3,"src"],[1,"mb-4","mt-3","h6"],[1,"form-outline","form-white","mb-4"],["for","correo",1,"form-label"],["type","email","id","correo","formControlName","email",1,"form-control","form-control-lg"],[4,"ngIf"],["for","pass",1,"form-label"],["type","password","id","pass","formControlName","password",1,"form-control","form-control-lg"],[1,"small","mb-5","pb-lg-2"],["href","#!",1,"text-secondary"],["type","submit",1,"btn","btn-outline-light","btn-primary","btn-lg","px-5"],[1,"mb-0"],["href","#!",1,"text-secondary","fw-bold"],["class","h6 text-danger bg-white rounded border border-2 border-danger p-2",4,"ngIf"],[1,"h6","text-danger","bg-white","rounded","border","border-2","border-danger","p-2"]],template:function(e,r){1&e&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"form",5),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o._UZ(6,"img",6),o.TgZ(7,"h1",7),o._uU(8,"Introduce tu email y contrase\xf1a"),o.qZA(),o.TgZ(9,"div",8),o.TgZ(10,"label",9),o._uU(11,"Correo"),o.qZA(),o._UZ(12,"input",10),o.YNc(13,v,3,2,"div",11),o.qZA(),o.TgZ(14,"div",8),o.TgZ(15,"label",12),o._uU(16,"Contrase\xf1a"),o.qZA(),o._UZ(17,"input",13),o.YNc(18,b,2,1,"div",11),o.qZA(),o.TgZ(19,"p",14),o.TgZ(20,"a",15),o._uU(21,"\xbfContrase\xf1a olvidada?"),o.qZA(),o.qZA(),o.TgZ(22,"button",16),o._uU(23,"Entrar"),o.qZA(),o.qZA(),o.TgZ(24,"div"),o.TgZ(25,"p",17),o._uU(26,"\xbfNo tienes cuenta? "),o.TgZ(27,"a",18),o._uU(28,"Registrate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&e&&(o.xp6(5),o.Q6J("formGroup",r.login),o.xp6(1),o.s9C("src",r.imgLogo,o.LSH),o.xp6(7),o.Q6J("ngIf",r.submitted&&r.formulario.email.errors),o.xp6(5),o.Q6J("ngIf",r.submitted&&r.formulario.password.errors))},directives:[i._Y,i.JL,i.sg,i.Fj,i.JJ,i.u,d.O5],styles:[""]}),t})()}];let T=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[u.Bz.forChild(A)],u.Bz]}),t})(),L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[d.ez,i.u5,i.UX,T]]}),t})()}}]);