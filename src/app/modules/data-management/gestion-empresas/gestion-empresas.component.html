<!-- Títulos de las secciones -->
<div class="row">
  <div class="page-header d-flex justify-content-between pb-3">
    <h1 class="h2">Gestión de empresas</h1>
    <button type="button" class="btn btn-outline-default mr-2" placement="left"
      ngbTooltip="Haga clic para acceder a la ayuda de esta sección" (click)="abrirAyuda()">?</button>
  </div>
</div>

<!-- Contenido de las secciones -->
<div class="card p-3">
  <div class="row">
    <!-- Botones -->
    <div class="d-flex align-items-center py-2 justify-content-end">
      <a href="data-management/registro-empresa/representante" aria-label="Registrar empresa"
        class="btn btn-outline-primary float-end" placement="left" ngbTooltip="Registrar empresa">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
          class="bi bi-plus-square-fill" viewBox="0 0 16 16">
          <path
            d="M2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2zm6.5 4.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3a.5.5 0 0 1 1 0z">
          </path>
        </svg>
      </a>
    </div>
  </div>
  <!-- Tabla -->
  <div class="p-2 table-responsive">
    <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-striped table-hover">
      <thead class="table-primary text-white">
        <tr>
          <th scope="col">CIF</th>
          <th scope="col">Nombre</th>
          <th scope="col">e-mail contacto</th>
          <th scope="col">Localidad</th>
          <th scope="col" class="nosort">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let empresa of empresas">
          <!-- #region Datos -->
          <td scope="col" class="align-middle cursor-pointer" attr.aria-label="Ver en detalle {{empresa.nombre}}"
            (click)="mostrarEmpresa(empresa, false)">{{empresa.cif}}</td>
          <td scope="col" class="align-middle cursor-pointer" attr.aria-label="Ver en detalle {{empresa.nombre}}"
            (click)="mostrarEmpresa(empresa, false)">{{empresa.nombre}}</td>
          <td scope="col" class="align-middle cursor-pointer" attr.aria-label="Ver en detalle {{empresa.nombre}}"
            (click)="mostrarEmpresa(empresa, false)">{{empresa.email}}</td>
          <td scope="col" class="align-middle cursor-pointer" attr.aria-label="Ver en detalle {{empresa.nombre}}"
            (click)="mostrarEmpresa(empresa, false)">{{empresa.localidad}}</td>
          <!-- #endregion -->
          <!-- Acciones -->
          <td scope="col" class="align-middle">
            <button class="btn btn-outline-warning p-2 py-1 m-1" (click)="mostrarEmpresa(empresa, true)"
              placement="left" ngbTooltip="Editar empresa" attr.aria-label="Editar {{empresa.nombre}}">
              <svg class="bi" width="16" height="16">
                <use xlink:href="#lapiz" />
              </svg>
            </button>
            <button class="btn btn-outline-danger px-2 py-1 m-1" (click)="deleteEmpresa(empresa)" placement="left"
              ngbTooltip="Eliminar empresa" attr.aria-label="Eliminar {{empresa.nombre}}">
              <svg class="bi" width="16" height="16">
                <use xlink:href="#papelera" />
              </svg>
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
