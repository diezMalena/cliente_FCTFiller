<!--Títulos de las secciones-->
<div class="row">
  <div class="page-header d-flex justify-content-between pb-3">
    <h1 class="h2">Seguimiento de prácticas</h1>
    <button type="button" class="btn btn-outline-secondary mr-2" placement="left"
      ngbTooltip="Haga clic para acceder a la ayuda de esta sección">?</button>
  </div>

  <!-- ENCABEZADO -->
  <div class="col-6">
    <div class="row">
      <div class="col-xl-3 col-12">
        Alumno:
      </div>
      <div class="col-xl-9 col-12 border-bottom">
        {{ nombre_alumno }}
      </div>
    </div>
  </div>
  <div class="col-6">
    <div class="row">
      <div class="col-xl-3 col-12">
        Empresa:
      </div>
      <div class="col-xl-9 col-12 border-bottom">
        {{ nombre_empresa }}
      </div>
    </div>
  </div>

  <div class="col-6">
    <div class="row" *ngIf="!departamentoEstablecido">
      <form [formGroup]="deptoForm" (ngSubmit)="guardarDepartamento()">
        <div class="col-12 col-xl-3">
          Departamento:
        </div>
        <div class="col-12 col-xl-6">
          <input type="text" placeholder="Informática..." formControlName="depto">
        </div>
        <div class="col-12 col-xl-3">
          <input type="submit" name="" value="Guardar">
        </div>

        <div class="row text-center pt-2">
          <div class="col-12 col-xl-12" *ngIf="submitted && formulario['depto'].errors">
            <div *ngIf="formulario['depto'].errors['required']">El Departamento no puede estar vacío.</div>
          </div>
        </div>
      </form>
    </div>

    <div class="row" *ngIf="departamentoEstablecido">
      <div class="col-xl-4 col-12">
        Departamento:
      </div>
      <div class="col-xl-8 col-12 border-bottom">
        {{ departamento }}
      </div>
    </div>
  </div>

  <div class="col-6">
    <div class="row">
      <div class="col-xl-4 col-12">
        Horas totales:
      </div>
      <div class="col-xl-8 col-12 border-bottom">
        {{ horasTotales }}
      </div>
    </div>
  </div>
</div>

<!--Contenido de las secciones-->
<h2 class="h3">JORNADAS:</h2>
<div class="card p-3">
  <div class="row">
    <div class="col-8 offset-2 text-center">
      <input type="submit" on-click="nuevaJornada()" value="Nueva jornada" name="nuevaJornada" class="btn btn-outline-primary">
    </div>

    <div class="col-2 text-center" *ngIf="botonDescargar">
      <input type="button" value="Descargar PDF" on-click="descargarPDF()" name="descargarPDF" class="btn btn-outline-primary">
    </div>

    <div class="col-2 text-center" *ngIf="botonVer">
      <input type="button" on-click="verPDF()" value="Ver PDF" name="verPDF" class="btn btn-outline-primary">
    </div>
  </div>

  <div class="row">
    <div class="col-12 p-2 table-responsive">
      <table class="table table-striped table-hover">
        <thead class="table-primary text-white">
          <tr>
            <th>Jornada</th>
            <th>Fecha</th>
            <th>Actividades realizadas</th>
            <th>Observaciones</th>
            <th>Horas</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr class="bg-primary bg-opacity-50 text-center" *ngFor="let jornada of arrayJornadas">
            <td style="max-width: 15em;"> {{ jornada.orden_jornada }} </td>
            <td style="max-width: 15em;">{{ jornada.fecha_jornada }}</td>
            <td style="max-width: 15em;">{{ jornada.actividades }}</td>
            <td style="max-width: 15em;">{{ jornada.observaciones }}</td>
            <td style="max-width: 15em;"> {{ jornada.tiempo_empleado }} </td>
            <td>
              <button (click)="editar(jornada)" class="btn btn-outline-warning px-2 py-1">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                  fill="currentColor" class="bi bi-pencil-fill" viewBox="0 0 16 16">
                  <path
                    d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z" />
                </svg>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
